\documentclass[a4paper]{article}
\usepackage{amsmath}
\usepackage{amssymb}

\begin{document}

\title{MOSRFLP}

\section*{SDP for SRFLP}

\begin{align}
    \min \quad & K - \sum_{i < j} \frac{c_{ij}}{2} \left[\sum_{k<i} l_k X_{ki,kj} - \sum_{i<k<j} l_k X_{ik,kj} + \sum_{i<k} l_k X_{ik,jk}\right]  \label{eq:obj} \\
    s.t. \quad & X_{ij,jk} - X_{ij,ik} - X_{ik,jk} = -1 \quad \text{for all triples} i < j < k                                                   \label{eq:transitivity} \\
               & diag(X) = e                                                                                                                      \label{eq:diag} \\
               & rank(X) = 1                                                                                                                      \label{eq:rank} \\
               & X \succeq 0 \label{eq:psd}
\end{align}

The constraints \eqref{eq:diag} is the equivalent to $X_{ij,ij} \in \{-1,1\}$. The constraint \eqref{eq:rank} ensures that the matrix $X$ has rank 1, which is part of the optimality condition for SDP. The constraint \eqref{eq:psd} ensures that the matrix $X$ is positive semidefinite.


\subsection*{Solving the indexing problem}
Assume we want the first part of the index of a matrix X for a pair $(a,b)$ and lets assume all pairs $(a,b)$ where $a < b$ are ordered the following:

$\{(1, 2); (1, 3); (1, 4); \dots; (1, n); (2, 3); (2, 4) \dots (2, n); \dots; (n-1, n)\}$

Then with help of the Gauss summation we get the following equation:
\begin{equation}
    n(a-1)-\frac{a^2+a}{2} + (b-a)-1
\end{equation}
To obtain the index starting with zero.
\[
\begin{bmatrix}
    1       &   y_{1,2}         &   \dots   &   y_{1,n} \\
    y_{1,2} &   y_{1,2}y_{1,2}  &   \dots   &   y_{1,2}y_{1,n} \\
    \vdots  &   \vdots          &   \ddots  &   \vdots \\
    y_{1,n} &   y_{1,n}y_{1,2}  &   \dots   &   y_{1,n}y_{1,n}     
\end{bmatrix}
\]

\section*{Abstract}
The Single Row Facility Location Problem (SRFLP) is a combinatorial optimization problem that arises in the context of locating facilities in a network. The problem is to find the optimal location of a single facility on a line network, such that the total transportation cost is minimized. For this problem semi definite programming relaxations have proven to be effective. In this paper we build on this approach and apply it to the Multi-Objective Single Row Facility Location Problem (MOSRFLP). We present a semi definite programming framework with for the MOSRFLP and compare it to state-of-the-art integer programming formulation used in literature for the single objective SRFLP. 


\section*{SDP Branch and Bound}

I should start by figuring out how to do the branch and bound for the SDP as for the multi objective problem we might use lexico-graphical ordering. This would make it a lot easier to implement. 

At the moment I can do the SDP relaxation. For the branch and bound I would need to implement a heuristic to get a feasible solution. Furthermore, I would need to think of an efficient way to branch and to prune and especially how to store the branching tree. 

In other papers, there are five phases. The Preprocessing, the bounding, the prunding, the reduction and the branching.

The Preprocessing might not be necessary in our case, because we our problem cannot be not feasible, as there is always some way to order the facilities. 

The Bounding is basically the heuristic to get a feasible solution and a upper bound on the problem. The better the heuristic the better the bound.

In the pruning phase, we check if the current solution is better than the best solution found so far. If not we prune the branch. For this check again all the reasons for pruning. (Hint: Write a function, which gets a b and B tree and a node and checks if the node can be pruned or not)

For the branching, the question is which variable to choose from. I would at first recommend to not choose variables where the value is already fixed. Need to read further literature on this because maybe putting some facilities in the middle or at the end might be a good idea. 

Additionally I need to transform the solution into a permutation such that it make sense. Maybe already translate the relaxation into a permutation, to find some patterns. 

\section*{Branch and bound}

\begin{itemize}
    \item Solve the relaxation of the problem
    \begin{itemize}
        \item Check if the relaxation is infeasible
        \item Check if the relaxation is integer (rank 1)
        \item If none of the above, find the element with smallest absolute value in the first row and branch on it. (-1, +1)
    \end{itemize}
\end{itemize}

\section*{Instances}
\begin{itemize}
    \item Simmons (1969)
    \begin{itemize}
        \item One-Dimensional Ordering Problem
        \item Generated instances without specific algorithm
        \item Although the "trivial" instances look rather random, the "difficult" instances have a some sort of pattern and values of the cost are less most of the time less spread out.
        \item F.e. the difficutl 9-department instance has cost only between 5 and 8, while the trivial 9-department instance has costs between 0 and 8. Furthermore, the lengths of the departments are more similar in the difficult instances.
    \end{itemize}
    \item Love-Wong (1976)
    \begin{itemize}
        \item Used the same instances as Simmons
    \end{itemize}
    \item Heragu-Kusiak (1991)
    \begin{itemize}
        \item In addition to Simmons instances they introduced 2 new instances with 20 and 30 departments. For the costs they used the data from Nugent et al. (1981). 
        \item The lengths do not seem to follow a specific pattern and it is not described how the instances were generated.
        \item Nugent et al. (1981) used the data from Hillier (1963) and for the newly generated, they observed the probability of the cost and build their instances with the same probabilities. 
    \end{itemize}
    \item Anjos-Kennings-Vannelli (2005)
    \begin{itemize}
        \item Used instances from previous literature and randomly generated one-dimensional space-allocation problem (ODSAP)instances. They did not further define how exactly they generated the instances.
        \item Newly generated instances have department number ranging form 60 to 80
    \end{itemize}
    \item  Anjos-Yen (2009)
    \begin{itemize}
        \item For some, they used the instances from Nugent and added randomly generated lengths. 
        \item For larger instances they do not specify how they generated them. (64 to 100 departments)
    \end{itemize}
    \item Instances P17 and P15 according to Hungerländer-Rendl (2010) are the 20 department instances from Heragu-Kusiak (1991) with the last two or three departments removed.
    \item Instances with 33 and 35 departments were generated by Amaral but not further specified how.
    \item Hungerländer-Rendl (2010) generated instances with 40 departments with a density of 50\%, random lengths and costs between 1 and 10.
\end{itemize}

\begin{table}
    \centering
    \begin{tabular}{c|c|c}
        \hline
        Instance & Description & Source \\
        \hline \hline
        LW5 & Not defined & Love-Wong (1976) | Simmons (1969) \\
        H5 & Not defined & Heragu-Kusiak (1991) \\
        SRFLP5 & Density 50\%, random lengths, costs 1-10 & Hungerländer-Anjos (2012) \\
        H6 & Not defined & Heragu-Kusiak (1991) \\
        SRFLP6 & Density 50\%, random lengths, costs 1-10 & Hungerländer-Anjos (2012) \\
        H7 & Not defined & Heragu-Kusiak (1991) \\
        SRFLP7 & Density 50\%, random lengths, costs 1-10 & Hungerländer-Anjos (2012) \\
        H8 & Not defined & Heragu-Kusiak (1991) \\
        SRFLP8 & Density 50\%, random lengths, costs 1-10 & Hungerländer-Anjos (2012) \\
        S8  & Not defined & Simmons (1969) \\
        S9  & Not defined & Simmons (1969) \\
        SRFLP9 & Density 50\%, random lengths, costs 1-10 & Hungerländer-Anjos (2012) \\
        S9H & Not defined & Simmons (1969) \\
        S10 & Not defined & Simmons (1969) \\
        SRFLP10 & Density 50\%, random lengths, costs 1-10 & Hungerländer-Anjos (2012) \\
        S11 & Not defined & Simmons (1969) \\
        SRFLP11 & Density 50\%, random lengths, costs 1-10 & Hungerländer-Anjos (2012) \\
        LW11 & Not defined & Love-Wong (1976) | Simmons (1969) \\
        H12 & Not defined & Heragu-Kusiak (1991) \\
        SRFLP12 & Density 50\%, random lengths, costs 1-10 & Hungerländer-Anjos (2012) \\
        SRFLP13 & Density 50\%, random lengths, costs 1-10 &  Hungerländer-Anjos (2012) \\
        SRFLP14 & Density 50\%, random lengths, costs 1-10 & Hungerländer-Anjos (2012) \\
        SRFLP15 & Density 50\%, random lengths, costs 1-10 & Hungerländer-Anjos (2012) \\
        H15 & Not defined & Heragu-Kusiak (1991) \\
        AM15 & Lengths H15, costs from Nugent & Amaral(2008) \\
        AM17 & H20 with last 3 departments removed & Amaral(2008) \\
        AM18 & H20 with last 2 departments removed & Amaral(2008) \\
        H20 & Not defined & Heragu-Kusiak (1991) \\
        ANVA25 & Nugent, with random lengths & Anjos, Vannelli (2008) \\
        H30 & Not defined & Heragu-Kusiak (1991) \\
        ANVA30 & Nugent, with random lengths & Anjos, Vannelli (2008) \\
        AM33 & Not defined & Amaral(2008) \\
        AM35 & Not defined & Amaral(2008) 
    \end{tabular}
\end{table}

\section{Questions}
\subsection{Semi definite programming}
A theorem of \cite{Malick2007} states:
\begin{theorem}
    Let $X \in \mathcal{S_p}$, where $\mathcal{S_p}$ be a space of $p x p$ symmetric matrices, be such that $X \succcurlyeq 0$ and $diag(X) = e$. Then $||X|| \leq p$ and
    \begin{equation*}
        rank(X) = 1  \Longleftrightarrow ||X|| = p.
    \end{equation*}
\end{theorem}


\end{document}